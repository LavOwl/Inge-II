@page "/"
@rendermode InteractiveServer
@inject NavigationManager Navegador
@inject shipPostListUseCase shipPostListUseCase
@inject listShipImagesUseCase listShipImagesUseCase

@foreach (var p in posts){
    <img src="@string.Format("data:image/jpeg;base64,{0}", Convert.ToBase64String(listShipImagesUseCase.Execute().Where(s => s.ShipId == p.ShipId).ElementAt(0).Image))" width="100" height="100"/>
    <p>@p.Title</p> <br>
}

@code {
    
    List<ShipPost> posts = new List<ShipPost>();
    byte[]? sad;
    string result;

    protected override void OnInitialized() {
       posts = shipPostListUseCase.Execute();
       sad = listShipImagesUseCase.Execute().Where(s => s.ShipId == 2).SingleOrDefault().Image;
       result = "data:image/jpeg;base64, {0}" + Convert.ToBase64String(sad);
   }
}
